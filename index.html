<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>GitHub OAuth Viewer - PKCE</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="container">
    <!-- PÃGINA DE LOGIN (PÃºblica) -->
    <div id="loginPage" class="page">
      <h1>ğŸ” GitHub OAuth Viewer</h1>
      <p class="subtitle">OAuth 2.0 com PKCE - Perfil Viewer</p>

      <div id="loginMessage" class="message"></div>

      <div class="login-box">
        <h2>FaÃ§a login para visualizar seus repositÃ³rios</h2>
        <button id="loginButton" class="btn btn-primary">
          ğŸ”’ Login com GitHub OAuth
        </button>
        <button id="demoButton" class="btn btn-demo">ğŸ­ Ver DemonstraÃ§Ã£o</button>

        <div class="security-info">
          <strong>ğŸ”’ SeguranÃ§a Implementada:</strong>
          <ul>
            <li>âœ… OAuth 2.0 Authorization Code Flow</li>
            <li>âœ… PKCE (Proof Key for Code Exchange)</li>
            <li>âœ… State validation (proteÃ§Ã£o CSRF)</li>
            <li>âœ… Token armazenado em memÃ³ria</li>
          </ul>
          <p><strong>Scope:</strong> <code>read:user</code> (Perfil Viewer)</p>
        </div>
      </div>
    </div>

    <!-- DASHBOARD (Privada - apÃ³s login) -->
    <div id="dashboardPage" class="page hidden">
      <div class="header">
        <h1>ğŸ“š GitHub Viewer</h1>
        <button id="logoutButton" class="btn btn-logout">Logout</button>
      </div>

      <!-- Barra de Busca -->
      <div class="search-container">
        <input 
          type="text" 
          id="searchInput" 
          placeholder="ğŸ” Buscar repositÃ³rios por nome, descriÃ§Ã£o ou linguagem..."
          class="search-input"
        >
        <button id="clearSearch" class="btn btn-clear">Limpar</button>
      </div>

      <!-- InformaÃ§Ãµes do UsuÃ¡rio -->
      <div id="userInfo" class="user-info hidden"></div>

      <!-- Scopes Concedidos -->
      <div id="scopesInfo" class="scopes hidden"></div>

      <!-- Mensagens -->
      <div id="dashboardMessage" class="message"></div>

      <!-- Contador de Resultados -->
      <div id="resultsInfo" class="results-info hidden"></div>

      <!-- Lista de RepositÃ³rios -->
      <ul id="repoList" class="repo-list"></ul>
    </div>

    <!-- LOADING -->
    <div id="loadingPage" class="page hidden">
      <div class="loading">
        <div class="spinner"></div>
        <p>Autenticando com GitHub...</p>
      </div>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>